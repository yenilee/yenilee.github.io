---
title: ë§¤ì§ ë©”ì„œë“œ __init_subclass__ ì˜ ë™ì‘
tags: python
---

<br/>
í´ë˜ìŠ¤ ë³€ìˆ˜ê°€ ì–´ë””ì„œ ìƒê¸°ëŠ” ê±°ì§€...? ğŸ¤” <br/>
<!--more-->

---

íšŒì‚¬ ë ˆê±°ì‹œ ì½”ë“œì—ì„œ `__init_subclass__` ë¥¼ ì²˜ìŒ ë´¤ì„ ë•, initì´ ë“¤ì–´ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì•„ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë  ë•Œ ê°™ì´ ìƒì„±ë˜ëŠ” í”„ë¡œí¼í‹°ì¼ ê²ƒì´ë¼ ì§ì‘í–ˆë‹¤.
ê·¸ëŸ¬ë˜ ì–´ëŠë‚  ë‹¤ë¥¸ íŒ€ì› ë¶„ì˜ ì§ˆë¬¸ìœ¼ë¡œ í•´ë‹¹ magic methodë¥¼ ì •ë¦¬í•˜ê¸°ê¹Œì§€ ì´ë¥´ë €ë‹¤.

ë¬¸ì œê°€ ëœ ë¶€ë¶„ì€ í´ë˜ìŠ¤ ë³€ìˆ˜ê°€ ë¹ˆ dictë¥¼ ë§Œë“œëŠ”ë°, ë¡œì§ì„ ë³´ë©´ í•´ë‹¹ dictì—ì„œ ì—¬ëŸ¬ ê°’ë“¤ì„ êº¼ë‚´ì£¼ê³  ìˆì—ˆê³  ê·¸ ì–´ë–¤ ë¡œì§ì—ì„œë„ í•´ë‹¹ dictë¥¼ ì±„ì›Œì£¼ëŠ” ê³³ì´ ì—†ë˜ ê²ƒì´ë‹¤.
ì¼ë°˜ì ìœ¼ë¡œ í´ë˜ìŠ¤ì˜ ì†ì„±ì´ë‚˜ ë³€ìˆ˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í–ˆì„ ë•Œì— ìƒì„±ëœë‹¤ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì—, ë¶„ëª… ë¡œì§ ì–´ë”˜ê°€ì— ìˆì„ ê²ƒì´ë¼ê³  ìƒê°í–ˆë‹¤.
ê·¸ëŸ°ë° í•´ë‹¹ ë³€ìˆ˜ë¥¼ ì•„ë¬´ë¦¬ ê²€ìƒ‰í•´ë„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ì•Œê²Œëê³ , í•´ë‹¹ classë¥¼ ì •ì˜í•  ë•Œ ì´ë¯¸ í´ë˜ìŠ¤ ë³€ìˆ˜ê°€ ì±„ì›Œì§„ë‹¤ëŠ” ê²°ë¡ ì— ì´ë¥´ë €ë‹¤.

ê²°ë¡ ì ìœ¼ë¡œ `__init_subclass__` ë©”ì„œë“œëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ ìì‹ í´ë˜ìŠ¤ë¥¼ ì •ì˜í–ˆì„ ë•Œ í˜¸ì¶œëœë‹¤ëŠ” ê²ƒì„ ì•Œê²Œë˜ì—ˆë‹¤.


```python
# ì˜ˆì‹œ
class Parent:
    def __init_subclass__(cls):
        print('Subclass of Parent Created!')

class Child(Parent):
    pass

# ê²°ê³¼: ìƒì† ë°›ì€ í´ë˜ìŠ¤ëŠ” ì •ì˜ë§Œìœ¼ë¡œ init_subclass methodê°€ í˜¸ì¶œë¨. 'Subclass of Parent Created!' ê°€ print ë˜ëŠ” ê²ƒ

```

ë§Œì•½ ìì‹ í´ë˜ìŠ¤ì—ì„œ `__init_subclass__`ê°€ ì¬ì •ì˜ë  ê²½ìš°, ìì‹ í´ë˜ìŠ¤ì˜ subclass hierarchy ruleì´ ì ìš©ëœë‹¤.
child -> parent ìˆœìœ¼ë¡œ ì°¾ê¸° ë•Œë¬¸ì—, childì—ì„œ í•´ë‹¹ ë©”ì„œë“œê°€ ì •ì˜ë˜ì–´ìˆì„ ê²½ìš° childì˜ ë‚´ìš©ìœ¼ë¡œ ì ìš©ëœë‹¤.


```python
# ì˜ˆì‹œ
class Parent:
    def __init_subclass__(cls):
        print('AAA')

class Child(Parent):
    def __init_subclass__(cls):
        print('BBB')

# ê²°ê³¼: AAAê°€ printë¨

class Grandchild(Child):
    pass

# ê²°ê³¼: BBBê°€ printë¨

```

# ì–¸ì œ ì‚¬ìš©?
ë²„ì „ 3.6ì—ì„œ ë©”íƒ€ í´ë˜ìŠ¤ì˜ ëŒ€ì•ˆìœ¼ë¡œ ì†Œê°œëœ ê²ƒì´ë¼ê³  í•œë‹¤. [PEP 487](https://peps.python.org/pep-0487/)ì—ëŠ” ì„œë¸Œ í´ë˜ìŠ¤ë¥¼ ë“±ë¡í•˜ê±°ë‚˜, ì„œë¸Œ í´ë˜ìŠ¤ë“¤ì˜ default attributeë¥¼ ì„¸íŒ…í•  ë•Œ ìœ ìš©í•˜ë‹¤ê³  ì–¸ê¸‰ë˜ì–´ ìˆë‹¤.
ì‹¤ì œ ë‚´ë¶€ ì½”ë“œì—ì„œë„ ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ëŠ” ì—¬ëŸ¬ ìì‹ í´ë˜ìŠ¤ê°€ ìˆê³ , í•´ë‹¹ í´ë˜ìŠ¤ê°€ ê³µìœ í•˜ëŠ” í´ë˜ìŠ¤ ë³€ìˆ˜ê°€ ìˆì„ ê²½ìš°ì— ì‚¬ìš©ë˜ê³  ìˆë‹¤.

[ê°•ì˜](https://www.youtube.com/watch?v=hk85RUtQsBI&t=230s)ì—ì„œ ë‚˜ì˜¨ ì˜ˆì‹œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

```python

class PEP487:
    def __init_subclass_(cls, whom, **kwargs):
      super().__init_subclass__(**kwargs)
      cls.hello = lambda: print(f"Hello, {whom}")

class HelloWorld(PEP487, whom="World")
    pass

>>> HelloWorld.hello()

# Hello, World

```

## ë©”íƒ€ í´ë˜ìŠ¤
í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” í´ë˜ìŠ¤ë‹¤. typeì„ ì‚¬ìš©í•´ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ê±°ë‚˜, typeì„ ìƒì†ë°›ì•„ êµ¬í˜„í•œë‹¤.

```python
# ë™ì  êµ¬í˜„ì˜ ì˜ˆ
Parent = type('Parent', (), {'is_parent':True})
Child = type('Child', (Parent,), {'is_parent':False})

>>> Parent.is_parent # True
>>> Child.is_parent # False
```

