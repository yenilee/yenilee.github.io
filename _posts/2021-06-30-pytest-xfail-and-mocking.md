---
title: pytest & mockì˜ ê¸°ë³¸ ê°œë… (í…ŒìŠ¤íŠ¸ë€?ğŸ¤”)
tags: python
---

<br/>
í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì“°ë‹¤ ë³´ë©´ ì •ìƒ ì¼€ì´ìŠ¤ ì™¸ì—ë„, ì‹¤íŒ¨ ì¼€ì´ìŠ¤ë¥¼ í™•ì¸í•˜ê±°ë‚˜ ê²€ì¦í•  ìˆ˜ ì—†ëŠ” ì¼€ì´ìŠ¤ë¥¼ ìƒëµí•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìƒê¸´ë‹¤.<br/>
ì˜¤ëŠ˜ ì´ ë‘ ê°€ì§€ ì¼€ì´ìŠ¤ë¥¼ ëª¨ë‘ ì ‘í•˜ê²Œ ë˜ì–´ TILë¡œ ê°„ë‹¨íˆ ì •ë¦¬í•˜ê³ ì í•œë‹¤.

<!--more-->

# í…ŒìŠ¤íŠ¸ë€?
[pytest ê³µì‹ ë¬¸ì„œ](https://docs.pytest.org/en/6.2.x/fixture.html#fixture)ëŠ”
í…ŒìŠ¤íŠ¸ë¥¼ `íŠ¹ì • í–‰ë™ì— ëŒ€í•œ ê²°ê³¼`ë¥¼ ë³´ê³ , `ê²°ê³¼ê°€ ë‚´ê°€ ê¸°ëŒ€í•œ ê²ƒê³¼ ë™ì¼í•œì§€`ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ë¼ê³  ë§í•œë‹¤.

í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì“°ëŠ” ê²ƒì´ í˜ë“  ì´ìœ ëŠ” í–‰ë™(ì´í•˜ Behavior)ì€ ì¸¡ì •ë  ìˆ˜ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì´ë‹¤. BehaviorëŠ” ì–´ë–»ê²Œ ì™œ ë˜ëŠ”ì§€ë³´ë‹¤ ë¬´ì—‡ì´ ë˜ì—ˆëŠ”ì§€(what is done)ê°€ ë” ì¤‘ìš”í•˜ë‹¤.  í…ŒìŠ¤íŠ¸ëŠ” ì•„ë˜ ë„¤ ë‹¨ê³„ë¡œ ë‚˜ëˆ ë³¼ ìˆ˜ ìˆë‹¤.

## í…ŒìŠ¤íŠ¸ì˜ ë‹¨ê³„

### Arrange
í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ëª¨ë“  ê²ƒì„ ì¤€ë¹„í•˜ëŠ” ë‹¨ê³„ë‹¤. actë¥¼ ì œì™¸í•œ ê±°ì˜ ëª¨ë“  ê²ƒì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤. ë„ë¯¸ë…¸ë¥¼ ë¬´ë„ˆëœ¨ë¦¬ê¸° ìœ„í•´ ë¸”ëŸ­ì„ í•˜ë‚˜ ì”© ìŒ“ëŠ” ê²ƒì²˜ëŸ¼,
ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìœ ì €ì˜ ì¸ì¦ì„ ë§Œë“¤ê±°ë‚˜ URLì˜ queryë¥¼ ë§Œë“œëŠ” ë“± ëª¨ë“  ê²ƒì„ ì¤€ë¹„í•˜ëŠ” ë‹¨ê³„ë¥¼ ë§í•œë‹¤.

### Act

ìš°ë¦¬ê°€ í…ŒìŠ¤íŠ¸í•˜ê³ ì í•˜ëŠ” Behaviorë¥¼ ì‹œì‘í•˜ëŠ” ë‹¨ê³„ë‹¤. ì´ Behaviorê°€ í…ŒìŠ¤íŠ¸ ì•„ë˜ì—ì„œ ë³€ê²½ëœ ì‹œìŠ¤í…œì˜ ìƒíƒœë¥¼ ê°€ì ¸ì˜¤ê²Œ ë˜ê³ ,
ê²°ê³¼ì ìœ¼ë¡œ ë³€ê²½ëœ ìƒíƒœ(resulting changed state)ëŠ” ìš°ë¦¬ê°€ Behavoirì— ëŒ€í•´ íŒë‹¨í•  ìˆ˜ ìˆëŠ” ê·¼ê±°ê°€ ëœë‹¤. ë³´í†µ functionì´ë‚˜ method callì˜ í˜•ì‹ì´ë‹¤.

### Assert

ê²°ê³¼ì ìœ¼ë¡œ ë³€ê²½ëœ ìƒíƒœë¥¼ ë³´ê³  ìš°ë¦¬ê°€ ê¸°ëŒ€í•˜ëŠ” ìƒíƒœì™€ ì¼ì¹˜í•˜ëŠ” ì§€ë¥¼ ë³´ëŠ” ë‹¨ê³„ë‹¤. í…ŒìŠ¤íŠ¸ì—ì„œëŠ” `assert`ë¥¼ ì‚¬ìš©í•´ì„œ ì¸¡ì •í•œë‹¤.

### Cleanup

ì •í•´ì§„ scope ë‚´ì—ì„œë§Œ ì‹¤í–‰ë˜ê³ , í…ŒìŠ¤íŠ¸ ì´í›„ ìŠ¤ìŠ¤ë¡œë¥¼ ì •ë¦¬í•¨ìœ¼ë¡œì¨ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì— ì˜í–¥ì´ ê°€ì§€ ì•Šê²Œ í•˜ëŠ” ë‹¨ê³„ë‹¤.

# pytest
pytest ê³µì‹ ë¬¸ì„œì˜ í° ê¼­ì§€ ì¤‘ì—ì„œë„ ë‚´ê°€ ìì£¼ ì“°ëŠ” Marksì™€ Fixturesë¥¼ ì •ë¦¬í•´ë´¤ë‹¤.

## ê¸°ë³¸ ê°œë…
### Fixtures

- ìœ„ì—ì„œ ë§í•œ arrange ë‹¨ê³„ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ ë§Œë“ ë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ëª¨ë“  ê²ƒì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.
- ì¼ì •í•˜ê³  ë°˜ë³µ ê°€ëŠ¥í•œ ê²°ê³¼ë¥¼ ìƒì„±í•˜ê³  ì•ˆì •ì ìœ¼ë¡œ ì‹¤í–‰ë˜ê¸° ìœ„í•´ ì •ì˜ëœë‹¤.
- í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë‚˜ ë‹¤ë¥¸ fixtureì— argumentë¡œ ì‚¬ìš©ëœë‹¤.
- `@pytest.fixture` ë°ì½”ë ˆì´í„°ë¥¼ ë¶™ì—¬ì„œ ì‚¬ìš©í•œë‹¤.

```python
import pytest

class Fruit:
    def __init__(self, name):
        self.name = name

    def __eq__(self, other):
        return self.name == other.name

@pytest.fixture
def my_fruit():
    return Fruit("apple")

@pytest.fixture
def fruit_basket(my_fruit):
    return [Fruit("banana"), my_fruit]

def test_my_fruit_in_basket(my_fruit, fruit_basket):
    assert my_fruit in fruit_basket # fruit_basketì— my_fruitì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ fixtureë¥¼ ë§Œë“  ê²ƒ.
```

### Marks
- fixturesë‚˜ pluginsë¥¼ í†µí•´ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ì— `ë©”íƒ€ ë°ì´í„°ë¥¼ ì ìš©`í•˜ëŠ” ë°ì— ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.
- ë§ ê·¸ëŒ€ë¡œ í•´ë‹¹ í…ŒìŠ¤íŠ¸ë¥¼ ìŠ¤í‚µí•  ê²ƒì´ë‹¤, ì‹¤íŒ¨í•  ê²ƒì´ë‹¤ì— ëŒ€í•´ì„œ í‘œì‹œë¥¼ í•´ë‘ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.
- ì˜ˆì‹œëŠ” ì•„ë˜ skip and xfailì—ì„œ ë‹¤ë¤„ë³¼ ê²ƒì´ë‹¤.

## Skip and xfail

fixtureë¥¼ ì‚¬ìš©í•´ì„œ ì •ìƒ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ëŠ” ê²ƒì€ ë§ì´ ë‹¤ë¤„ë´¤ëŠ”ë°, ì‹¤íŒ¨ ì¼€ì´ìŠ¤ì— ëŒ€í•´ì„œëŠ” ëª…í™•í•˜ê²Œ ê³µë¶€í•œ ì ì´ ì—†ì–´ì„œ ì´ ë¶€ë¶„ì„ ë” ì§‘ì¤‘í•´ì„œ ë‹¤ë¤„ë³´ê³ ì í•œë‹¤.

skipì´ë‚˜ xfailì€ `ì„±ê³µí•  ìˆ˜ ì—†ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë‹¤ë£¨ëŠ” ë°©ì‹`ìœ¼ë¡œ, íŠ¹ì • í”Œë«í¼ì—ì„œ ì‹¤í–‰ë  ìˆ˜ ì—†ê±°ë‚˜ ì‹¤íŒ¨ë¥¼ ê¸°ëŒ€í•˜ëŠ” í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ì— í‘œì‹œí•´ë¥¼ í•´ì„œ í…ŒìŠ¤íŠ¸ ìš”ì•½ì— ë‚˜íƒ€ë‚¸ë‹¤.

- skip: íŠ¹ì • ì¡°ê±´ì— ë§ì•„ì•¼ ì„±ê³µí•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ í…ŒìŠ¤íŠ¸ë„ ìŠ¤í‚µí•˜ëŠ” ê²ƒì´ë‹¤. ì¼ë°˜ì ì¸ ì˜ˆëŠ” ìœˆë„ìš°ê°€ ì•„ë‹Œ í”Œë«í¼ì—ì„œ ìœˆë„ìš° only testë¥¼ skipí•˜ëŠ” ê²ƒì´ë‹¤.
- xfail: íŠ¹ì • ì´ìœ ë¡œ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ëŠ” ê²ƒì„ ê¸°ëŒ€í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ê¸°ëŠ¥ì„ ìœ„í•œ í…ŒìŠ¤íŠ¸ê°€ ì•„ì§ ì‹¤í–‰ë˜ì§€ ì•Šì•˜ê±°ë‚˜, ë²„ê·¸ê°€ ìˆ˜ì •ë˜ì§€ ì•Šì€ ê²ƒ ë“±ì´ë‹¤.  ì‹¤íŒ¨ë¥¼ ê¸°ëŒ€í–ˆëŠ”ë°ë„ ë§Œì•½ íŒ¨ìŠ¤í•œë‹¤ë©´, test summaryì— xpassë¡œ ë¦¬í¬íŒ…ë˜ê²Œ ëœë‹¤.

### pytest.mark.skip
ì¡°ê±´ ì—†ì´ í…ŒìŠ¤íŠ¸ë¥¼ skipí•˜ë„ë¡ í•´ì¤€ë‹¤.

```python
@pytest.mark.skip(reason="no way of currently testing this")
def test_the_unknown():
    ...
```

### pytest.mark.xfail

[ê³µì‹ ë¬¸ì„œ](https://docs.pytest.org/en/6.2.x/skipping.html#xfail-mark-test-functions-as-expected-to-fail)ì— ë‚˜ì˜¨ ì„¤ëª…ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. ì§ì—­í•´ë³´ë©´
testê°€ failí•  ê²ƒì´ë¼ê³  ê°€ë¦¬í‚¤ëŠ” ê²ƒì´ê³ , ì‹¤íŒ¨í•˜ë”ë¼ë„ tracebackì„ ë¦¬í¬íŒ…í•˜ì§€ ì•Šê³  ë¬¸ì œ ì—†ì´ íŒ¨ìŠ¤í•˜ê²Œ ëœë‹¤. í„°ë¯¸ë„ì—ì„œëŠ” XFAIL(expected to fail)ê³¼ XPASS(unexpectedly passing) ì„¹ì…˜ì—ì„œ ê²°ê³¼ë¥¼ ë¦¬ìŠ¤íŒ…í•œë‹¤.

>You can use the xfail marker to indicate that you expect a test to fail.
>This test will run but no traceback will be reported when it fails.
>Instead, terminal reporting will list it in the â€œexpected to failâ€ (XFAIL) or â€œunexpectedly passingâ€ (XPASS) sections.
>Alternatively, you can also mark a test as XFAIL from within the test or its setup function imperatively

#### raises

í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œ ì´ìœ ì— ëŒ€í•´ ë” ìì„¸íˆ ëª…ì‹œí•˜ê³  ì‹¶ì„ ê²½ìš°, raises ì¸ìì— exception classë¥¼ ë„£ëŠ”ë‹¤. (ì•„ë˜ ì½”ë“œì— ì˜ˆì‹œ)
exceptionì€ Exceptionì˜ subclassì—¬ì•¼ í•œë‹¤. ë§Œì•½ raisesì—ì„œ ì–¸ê¸‰í•œ exceptionì´ ì•„ë‹Œ ì—ëŸ¬ê°€ ë¦¬í¬íŒ…ë  ê²½ìš° ì¼ë°˜ ì‹¤íŒ¨ ì¼€ì´ìŠ¤ë¡œ ì²˜ë¦¬ëœë‹¤.

#### ì£¼ì˜í•  ì 

ë‚´ê°€ ì´ ë¸”ë¡œê·¸ë¥¼ ì“°ê²Œëœ ê³„ê¸°ì¸ë°, `@pytest.mark.xfail` ë°ì½”ë ˆì´í„°ëŠ” ë§Œì•½ ë‚´ê°€ ê¸°ëŒ€í•˜ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šë”ë¼ë„ í…ŒìŠ¤íŠ¸ì— ì´ˆë¡ë¶ˆì´ ë“¤ì–´ì˜¨ë‹¤.
RunTimeErrorê°€ ë°œìƒí•  ê²ƒìœ¼ë¡œ ê¸°ëŒ€í•˜ëŠ” ìƒí™©ì¸ë° ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šë”ë¼ë„ ë¬¸ì œ ì—†ì´ í†µê³¼ëœë‹¤ëŠ” ì˜ë¯¸ë‹¤.

```python
import pytest

@pytest.mark.xfail(raises=RuntimeError)
def test_function():
    pass
```

ì •ìƒì ìœ¼ë¡œ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ì¼€ì´ìŠ¤ë¼ë©´ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ í•´ë‹¹ í…ŒìŠ¤íŠ¸ì— tracebackì´ ì°í˜€ìˆì–´ì•¼ í•˜ëŠ”ë°, ì•„ë¬´ ë¡œê·¸ë„ ì—†ëŠ” ê²ƒì„ ë³´ê³  ë‹¹í™©í–ˆë‹¤.
ë™ì‘ ë°©ì‹ì„ ì˜ ëª¨ë¥¸ë‹¤ë©´ passë¥¼ í–ˆê¸° ë•Œë¬¸ì— ë‚´ê°€ ì›í•˜ëŠ” ëŒ€ë¡œ í…ŒìŠ¤íŠ¸ë˜ì—ˆë‹¤ê³  ì°©ê°í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆê³ , ë‹¤ìŒ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ”ê²Œ ë” ì¢‹ì„ ê²ƒ ê°™ë‹¤.

#### ê°œì„ ì 

- ì—ëŸ¬ ê²€ì¦ì„ ìœ„í•´ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ ë‚´ì˜¹ì„`pass` ë³´ë‹¤ëŠ” `assert False`ë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ í†µê³¼ ì—¬ë¶€ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì•Œ ìˆ˜ ìˆë„ë¡ í•´ì•¼ í•œë‹¤.
- pytest.mark.xfailì€ failí•  ê²ƒì´ë¼ê³  Markë§Œ í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì—, ì—ëŸ¬ê°€ ë‚˜ì§€ ì•Šì•„ë„ í†µê³¼ëœë‹¤ëŠ” ì ì„ ì¸ì§€í•´ì•¼ í•œë‹¤.

```python
import pytest

@pytest.mark.xfail(raises=RuntimeError)
def test_function():
    assert False

    # ê²€ì¦í•˜ë ¤ëŠ” ë¡œì§ì—ì„œ ì¤‘ê°„ì— ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ assertí•˜ëŠ” ê³³ê¹Œì§€ ì˜¤ì§€ ì•Šê¸° ë–„ë¬¸ì—,
    # False ë¡œ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ê²Œ ë˜ë©´ í•´ë‹¹ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ì˜ ì •ìƒ í–‰ë™ì¸ ì—ëŸ¬ê°€ ë°œìƒë˜ì§€ ì•Šì•˜ìŒì„ ëœ»í•œë‹¤.
```

# mock

í…ŒìŠ¤íŠ¸ë¡œ êµ¬í˜„í•  ìˆ˜ ì—†ëŠ” ì™¸ë¶€ ì„œë¹„ìŠ¤ ìš”ì²­ì´ë¼ë“ ì§€, fixtureë¡œ ë§Œë“¤ ìˆ˜ ì—†ëŠ” ì¡°ê±´ì´ ìˆì„ ë•Œ mockingì„ í•˜ê²Œ ëœë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ ë¹„ë™ê¸° ì„œë¹„ìŠ¤ì— ìš”ì²­ì„ í•´ì„œ ê²°ê³¼ ê°’ì„ ë°›ì•„ì˜¨ë‹¤ê³  í•œë‹¤ë©´, í•´ë‹¹ ë¶€ë¶„ì„ mockingí•¨ìœ¼ë¡œì¨ í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ë³¼ ìˆ˜ ìˆë‹¤.

## patch

patch í•¨ìˆ˜ ì†ŒìŠ¤ì½”ë“œë¥¼ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë˜ì–´ìˆë‹¤.

```python
def patch(
        target, new=DEFAULT, spec=None, create=False,
        spec_set=None, autospec=None, new_callable=None, **kwargs
    ):
```

- ì‰½ê²Œ ë§í•´ í…ŒìŠ¤íŠ¸ ì‹œ ê²€ì¦ì´ ë¶ˆê°€í•œ ë¶€ë¶„ë§Œ ë³€ê²½í•´ì£¼ëŠ” ê²ƒì´ë‹¤.
- í•¨ìˆ˜ í˜¹ì€ í´ë˜ìŠ¤ ë°ì½”ë ˆì´í„°ë‚˜ ì»¨í…ìŠ¤íŠ¸ ë§¤ë‹ˆì €ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.
- ì²« ë²ˆì§¸ ì¸ìê°€ targetì¸ë°, function bodyë‚˜ with statement ë‚´ì—ì„œ targetì€ new objectì™€ í•¨ê»˜ patchëœë‹¤.
- patchëŠ” í”„ë¡œê·¸ë˜ë°ì—ì„œ ë¶€ë¶„ì  ë³€ê²½ì„ ì˜ë¯¸í•œë‹¤. mockingì„ í†µí•´ ë¶€ë¶„ì ìœ¼ë¡œ ë³€ê²½í•´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” ê²ƒì´ë¼ê³  ì´í•´í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.

### new
ì•„ë˜ í•¨ìˆ˜ëŠ” http ìš”ì²­ì´ í•„ìš”í•œ async_request_service ëŒ€ì‹ , í•´ë‹¹ ë¡œì§ì„ ë‹´ê³  ìˆëŠ” í•¨ìˆ˜ì¸ request_functionì„ new ì¸ìì— ë„£ì–´ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ëŠ” ì˜ˆì‹œë‹¤.
mock ë¶€ë¶„ë§Œ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ì˜ˆì‹œë¡œ, newì— ëŒ€ì‹  ì‹¤í–‰ì„ ì›í•˜ëŠ” í•¨ìˆ˜ëª…ì„ ì…ë ¥í•œë‹¤.

```python
from unittest import mock

@pytest.fitxture
def mock_async_service(self):
  with mock.patch('async_service.request', new='request_function'):
    # targetì€ new objectë¡œ ëŒ€ì²´ë˜ì–´ì•¼ í•˜ê¸° ë–„ë¬¸ì—, improtí•  ìˆ˜ ìˆë„ë¡ string.string.string í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ì•¼ í•œë‹¤.
    yield
```

ë§Œì•½ í•´ë‹¹ í•¨ìˆ˜ë¥¼ ëŒ€ì‹ í•´ ë‹¤ë¥¸ í•¨ìˆ˜ë„ ì‹¤í–‰í•˜ì§€ ì•Šê³  ê·¸ëƒ¥ íŒ¨ìŠ¤í•˜ë ¤ë©´, ì•„ë˜ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.

```python
from unittest import mock

def dummy(*args, **kwargs):
    pass

@pytest.fitxture
def mock_async_service(self):
  with mock.patch('async_service.request', new=dummy):
    yield
```

### return_value
ë§Œì•½ newì— í•¨ìˆ˜ë¥¼ ì…ë ¥í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, targetì€ Mock Objectë¡œ ëŒ€ì²´ëœë‹¤. ì´ ë•Œ Mockì´ ê°€ì§€ëŠ” atrribute ì¤‘ í•˜ë‚˜ê°€ return_valueë‹¤.
ë‚´ê°€ ê²€ì¦í•˜ê³ ì í•˜ëŠ” ë¡œì§ ì¤‘ ìƒëµí•˜ëŠ” ë¶€ë¶„ì´ ë°˜í™˜í•´ì•¼ í•  ê°’ì´ ìˆë‹¤ë©´, í•´ë‹¹ ë°˜í™˜ ê°’ì„ í†µí•´ì„œ ê²€ì¦ì„ ì´ì–´ë‚˜ê°€ëŠ” ìš©ë„ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

>If new is omitted, then the target is replaced with an
    AsyncMock if the patched object is an async function or a
    MagicMock otherwise. If patch is used as a decorator and new is
    omitted, the created mock is passed in as an extra argument to the
    decorated function. If patch is used as a context manager the created
    mock is returned by the context manager.


ì´ë ‡ê²Œ ê¸¸ê²Œ ì“°ë ¤ê³  í–ˆë˜ í¬ìŠ¤íŠ¸ëŠ” ì•„ë‹ˆì—ˆëŠ”ë°, ì‚¬ìš©í•˜ë©´ì„œë„ ëª°ëë˜ ë¶€ë¶„ì´ ìˆì—ˆì–´ì„œ ìì„¸íˆ ë‹¤ë£¨ê²Œ ë˜ì—ˆë‹¤.
ì˜ ì“°ì—¬ì§„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì§ì ‘ ë³´ê³  ë°°ìš°ê³  ì‹¶ë‹¤.

---
